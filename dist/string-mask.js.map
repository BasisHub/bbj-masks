{"version":3,"file":"string-mask.js","mappings":"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","sources":["webpack://bbj-masks/webpack/universalModuleDefinition","webpack://bbj-masks/./src/StringMask/StringMask.js","webpack://bbj-masks/webpack/bootstrap","webpack://bbj-masks/webpack/runtime/define property getters","webpack://bbj-masks/webpack/runtime/hasOwnProperty shorthand","webpack://bbj-masks/webpack/runtime/make namespace object","webpack://bbj-masks/./src/StringMask/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"BBj\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"BBj\"] = factory();\n\telse\n\t\troot[\"BBj\"] = root[\"BBj\"] || {}, root[\"BBj\"][\"Masks\"] = root[\"BBj\"][\"Masks\"] || {}, root[\"BBj\"][\"Masks\"][\"String\"] = factory();\n})((typeof self !== 'undefined' ? self : this), () => {\nreturn ","/*\n * This file is part of bbj-masks lib.\n * (c) Basis Europe <eu@basis.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nconst isNumberRegex = /^\\d+$/\nconst isWhitespaceRegex = /\\s/\nconst punctuationList = '!\"#$%&\\'()*+,-./:;<=>?@[]^_`{|}~'\n\n/**\n * Check if the given string is in lower case\n *\n * @param {String} str\n */\nconst isLowerCase = str => {\n  return str == str.toLowerCase() && str != str.toUpperCase()\n}\n\n/**\n * Check if the given string is in upper case\n *\n * @param {String} str\n */\nconst isUpperCase = str => {\n  return str == str.toUpperCase() && str != str.toLowerCase()\n}\n\nconst passOrThrowError = (loose, ret, i, str) => {\n  if (!loose) {\n    const char = str.charAt(i)\n    const pos = i + 1\n    throw {\n      name: 'StringMaskError',\n      message: `StringMaskError: error applying mask at position \"${pos}\" , char \"${char}\"`,\n      pos,\n      char\n    }\n  } else ret[i] = ' '\n}\n\n/**\n * NumberMask\n *\n * A javascript implementation for BBj numbers masking\n *\n * @author Hyyan Abo Fakher <habofakher@basis.com>\n */\nclass StringMask {\n  /**\n   * Mask the given string with the given mask according to BBj rules\n   *\n   * @param {String} str the string to mask\n   * @param {String} mask the mask to use for formatting\n   * @param {Boolean} [loose=true] when true , errors will be ignored and the method will try at apply the mask\n   *                anyway , otherwise it will stop at first error and throw it.\n   * \n   * @throws {MaskIsTooShortError}\n   * @throws {StringMaskError}\n   * @throws {MaskError}\n   * \n   * @returns {String} the masked string\n   */\n  static mask(str, mask, loose = true) {\n    str = String(str)\n    mask = String(mask)\n    const maskLen = mask.length\n    const strLen = str.length\n\n    if (strLen > maskLen) {\n      if (loose) return str\n      // friendly silent fail\n      else\n        throw {\n          name: 'MaskIsTooShortError',\n          message: `MaskIsTooShortError: Mask is shorter than the passed string`\n        }\n    }\n\n    const ret = new Array(maskLen)\n    let pos = 0 // to keep track of the current position in the str\n    let maskByte = ''\n\n    for (let i = 0; i < maskLen; i++) {\n      maskByte = mask.charAt(i)\n      switch (maskByte) {\n        case 'X': // match any character\n          ret[i] = pos < strLen ? str.charAt(pos) : ' '\n          ++pos\n          break\n\n        case 'A': // match letter; force upper case\n          if (pos < strLen) {\n            const byte = str.charAt(pos)\n            if (isUpperCase(byte)) ret[i] = byte\n            else if (isLowerCase(byte)) ret[i] = byte.toUpperCase()\n            else passOrThrowError(loose, ret, i, str)\n          } else ret[i] = ' '\n          ++pos\n          break\n\n        case 'a': // match letter\n          if (pos < strLen) {\n            const byte = str.charAt(pos)\n            if (isUpperCase(byte) || isLowerCase(byte)) ret[i] = byte\n            else passOrThrowError(loose, ret, i, str)\n          } else ret[i] = ' '\n          ++pos\n          break\n        case '0': // match digit\n          if (pos < strLen) {\n            const byte = str.charAt(pos)\n            if (isNumberRegex.test(byte)) ret[i] = byte\n            else passOrThrowError(loose, ret, i, str)\n          } else ret[i] = ' '\n          ++pos\n          break\n        case 'Z': // match letter or digit; force upper case\n          if (pos < strLen) {\n            const byte = str.charAt(pos)\n            if (isUpperCase(byte) || isNumberRegex.test(byte)) ret[i] = byte\n            else if (isLowerCase(byte)) ret[i] = byte.toUpperCase()\n            else passOrThrowError(loose, ret, i, str)\n          } else ret[i] = ' '\n          ++pos\n          break\n        case 'z': // match letter or digit\n          if (pos < strLen) {\n            const byte = str.charAt(pos)\n            if (\n              isUpperCase(byte) ||\n              isLowerCase(byte) ||\n              isNumberRegex.test(byte)\n            )\n              ret[i] = byte\n            else passOrThrowError(loose, ret, i, str)\n          } else ret[i] = ' '\n          ++pos\n          break\n\n          break\n        case 'U': // match letter (force upper case), digit, whitespace or punctuation.\n          if (pos < strLen) {\n            const byte = str.charAt(pos)\n            if (isLowerCase(byte)) ret[i] = byte.toUpperCase()\n            else if (\n              isUpperCase(byte) ||\n              isNumberRegex.test(byte) ||\n              isWhitespaceRegex.test(byte) ||\n              punctuationList.indexOf(byte) > -1\n            )\n              ret[i] = byte\n            else passOrThrowError(loose, ret, i, str)\n          } else ret[i] = ' '\n          ++pos\n          break\n        default:\n          ret[i] = maskByte\n          break\n      }\n    }\n\n    if (pos < strLen) {\n      if (!loose) {\n        throw { name: 'MaskError', message: 'Mask cannot be applied' }\n      }\n    }\n\n    return ret.join('')\n  }\n}\n\nexport default StringMask\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\n * This file is part of bbj-masks lib.\n * (c) Basis Europe <eu@basis.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nimport StringMask from './StringMask'\n\nexport default StringMask\n"],"names":["isNumberRegex","isWhitespaceRegex","punctuationList","isLowerCase","str","toLowerCase","toUpperCase","isUpperCase","passOrThrowError","loose","ret","i","char","charAt","pos","name","message","StringMask","mask","String","maskLen","length","strLen","Array","maskByte","byte","test","indexOf","join"],"sourceRoot":""}